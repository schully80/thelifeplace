---
import BaseLayout from "../../layouts/BaseLayout.astro";
import SnapScanConfirmForm from "../../components/SnapScanConfirmForm.astro";

const url = new URL(Astro.request.url);
const event = url.searchParams.get("event");
---

<BaseLayout title="Generosity">
  <!-- Hero -->
  <section class="container-x py-10 md:py-14 text-center">
    <!-- Mobile smaller, desktop unchanged (was 4xl everywhere) -->
    <h1 class="text-3xl md:text-4xl font-bold text-warmgray-900 mb-5 md:mb-6">
      Generosity
    </h1>

    <!-- Mobile smaller body, desktop unchanged (md:2xl) -->
    <p class="text-lg md:text-2xl text-brand-warmgray-700 max-w-3xl mx-auto leading-7 md:leading-8">
      Generosity is our expression of who Jesus is and what He does. Your giving helps others
      <span class="text-brand-red">Come. See. Jesus</span>
    </p>
  </section>

  <!-- Two-column layout -->
  <div class="flex justify-center">
    <div class="grid gap-8 md:gap-20 md:grid-cols-2 items-start mt-6 md:mt-8 max-w-4xl w-full px-4 md:px-0">
      
      <!-- Left Column: EFT + In-Person -->
      <div class="space-y-8 md:space-y-10">
        <!-- EFT Section -->
        <div>
          <h2 class="text-xl md:text-2xl font-bold mb-3 md:mb-4 text-center">EFT Banking Details</h2>

          <div class="rounded-xl border-2 border-gray-300 p-5 md:p-8 bg-white shadow-sm">
            <div class="flex justify-center mb-4">
              <img src="/reshot-icon-laptop-Y6XNMWGB8C.svg" alt="Laptop icon" class="h-10 w-10 md:h-12 md:w-12" />
            </div>

            <!-- Mobile base text, desktop md:lg -->
            <div class="space-y-2.5 md:space-y-3 text-center text-lg md:text-lg text-warmgray-800">
              <div><span class="font-semibold">Account Name:</span> The Life Place</div>
              <div><span class="font-semibold">Bank:</span> Standard Bank</div>
              <div><span class="font-semibold">Account Number:</span> 30&nbsp;152&nbsp;4351</div>
              <div><span class="font-semibold">Branch Code:</span> 051001</div>
              <div><span class="font-semibold">Account Type:</span> Cheque</div>
              <div><span class="font-semibold">SWIFT:</span> SBZA&nbsp;ZA&nbsp;JJ</div>
            </div>
          </div>
        </div>
        
        <!-- Give In-Person Section -->
        <div>
          <h2 class="text-xl md:text-2xl font-bold mb-3 md:mb-4 text-center">Give In Person</h2>

          <div class="rounded-xl border-2 border-gray-300 p-5 md:p-8 bg-white shadow-sm">
            <div class="flex justify-center mb-4">
              <img src="/hand-holding-heart-svgrepo-com.png" alt="Hand giving icon" class="h-10 w-10 md:h-12 md:w-12" />
            </div>
            <div class="space-y-3 md:space-y-4 text-center text-brand-warmgray-700 text-lg md:text-lg leading-7 md:leading-8">
              <p>
                While we encourage online giving for security and simplicity, we gladly receive in-person gifts during our weekend gatherings.
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Right Column: SnapScan -->
      <div>
        <div class="flex items-center justify-center mb-3 md:mb-4 space-x-3">
          <h2 class="text-xl md:text-2xl font-bold text-center">SnapScan</h2>
        </div>

        <div class="rounded-xl border-2 border-gray-300 p-5 md:p-8 bg-white shadow-sm flex flex-col items-center space-y-4">
          <div class="flex justify-center mb-2 md:mb-4">
            <img src="/reshot-icon-hand-holding-smartphone-4L7F8HCGWT.svg" alt="Hand holding smartphone icon" class="h-10 w-10 md:h-12 md:w-12" />
          </div>

          <!-- Fixed invalid Tailwind size: h-50 -> use square or auto -->
          <img src="/SnapCode_1.png" alt="SnapScan QR Code" class="w-48 h-48 md:w-48 md:h-48 object-contain" />

          <h3 class="text-lg md:text-xl font-semibold text-center mt-6 md:mt-10 mb-2 md:mb-4 text-brand-warmgray-800">
            Give Securely
          </h3>
          <p class="text-center text-brand-warmgray-700 text-lg md:text-lg leading-7 md:leading-8 mb-2 md:mb-6">
            Whether once-off or recurring, your gift helps us prepare the ground for what Jesus is doing next.
          </p>

          <SnapScanConfirmForm
            title="Confirm Your Gift"
            eventName={event ?? "Support the Mission"}
            snapMessage="Thank you for your generosity. We’ve received your confirmation."
            ctaText="I’ve Given"
          />
        </div>
      </div>
    </div>
  </div>

 <!-- Annual Report (featured card) -->
<section class="container-x mt-12">
  <div
    class="relative overflow-hidden rounded-2xl border-2 border-gray-200 bg-gradient-to-br from-white to-gray-50 shadow-lg
           p-6 sm:p-8 md:p-10"
    aria-labelledby="annual-report-title"
  >

    <!-- Header -->
    <div class="flex items-start gap-3 sm:gap-4">
      <!-- Icon -->
      <div class="hidden sm:flex h-12 w-12 items-center justify-center rounded-xl bg-[#B3282D]/10">
        <!-- doc icon -->
        <svg viewBox="0 0 24 24" class="h-6 w-6 text-[#B3282D]" fill="none" stroke="currentColor" stroke-width="1.8">
          <path stroke-linecap="round" stroke-linejoin="round"
            d="M7 3h6l4 4v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"/>
          <path stroke-linecap="round" stroke-linejoin="round" d="M13 3v5h5"/>
        </svg>
      </div>

      <div class="flex-1">
        <h2 id="annual-report-title"
            class="text-2xl md:text-4xl text-center font-bold tracking-tight text-warmgray-900">
          Annual Financial Report
        </h2>
        <p class="mt-2 text-center sm:text-left
                  text-lg leading-relaxed mb-4
                  sm:text-base sm:leading-7 sm:mb-5
                  md:text-lg md:leading-8 md:mb-6
                  text-brand-warmgray-700">
          We value transparency. See how generosity is stewarded at The Life Place.
        </p>
      </div>
    </div>

    <!-- Actions -->
    <div class="mt-2 flex flex-col sm:flex-row justify-center sm:justify-start gap-3 sm:gap-4">
      <!-- Download -->
      <a
        href="/reports/annual-report-2024.pdf"
        download
        class="btn-brand text-sm md:text-base px-4 py-2 md:px-6 md:py-3"
        aria-label="Download Annual Financial Report 2024 as PDF"
      >
        Download 2024 (PDF)
        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 md:h-5 md:w-5"
             viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 5v10m0 0l-4-4m4 4l4-4M4 19h16"/>
        </svg>
      </a>

      <!-- View online -->
      <a
        href="/reports/annual-report-2024.pdf"
        target="_blank"
        rel="noopener"
        class="btn-outline text-sm md:text-base px-4 py-2 md:px-6 md:py-3"
        aria-label="View Annual Financial Report 2024 online"
      >
        View Online
      </a>
    </div>
  </div>
</section>
</BaseLayout>
