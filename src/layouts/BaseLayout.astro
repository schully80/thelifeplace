---
import "../styles/global.css";
import CookieConsent from "../components/CookieConsent.astro";

// Page props
const {
  title = "The Life Place",
  description = "Come. See. Jesus.",
} = Astro.props;

// Active-link helper
const path = Astro.url.pathname;
const isActive = (href: string) =>
  href === "/"
    ? path === "/"
    : path === href || (href !== "/" && path.startsWith(href));
---

<!DOCTYPE html>
<html lang="en" class="min-h-screen">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <meta name="description" content={description} />
    <title>{title}</title>

    <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
</head>

    <!-- Montserrat (400/500/700/800) -->
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700;800&display=swap"
      rel="stylesheet"
    />
  </head>

  <body class="bg-white text-gray-800 antialiased min-h-screen flex flex-col">
    <!-- Header / Nav -->
    <header class="border-b">
      <div class="max-w-7xl mx-auto px-7 h-20 flex items-center justify-between gap-8">
        <!-- Left: Logo + Title + Slogan -->
        <div class="flex items-center gap-3">
          <a href="/" class="flex-shrink-0" aria-label="The Life Place — Home">
            <img src="/logo.png" alt="The Life Place Logo" class="h-20 w-auto" />
          </a>
          <div class="flex flex-col">
            <a href="/" class="site-title text-2xl font-bold text-[#B3282D]">
              The Life Place
            </a>
            <span class="text-sm text-gray-600 tracking-wide text-center">
              Come. See. Jesus
            </span>
          </div>
        </div>

        <!-- Desktop nav (animated underline) -->
        <nav class="hidden md:flex items-center gap-6 font-montserrat text-sm md:text-base lg:text-lg ml-auto">
          <a
            href="/what-to-expect/"
            class={`relative px-2 py-2 whitespace-nowrap
                    after:absolute after:left-0 after:-bottom-0.5 after:h-[2px] after:bg-[#B3282D]
                    after:w-0 after:content-[''] hover:after:w-full after:transition-all after:duration-300
                    ${isActive("/what-to-expect/") ? "text-[#B3282D] after:w-full font-semibold" : "text-gray-800"}`}
          >What to Expect</a>

          <!-- About Us dropdown -->
<div id="dd-about" class="relative group">
  <button
    type="button"
    class={`relative px-2 py-2 whitespace-nowrap
            after:absolute after:left-0 after:-bottom-0.5 after:h-[2px] after:bg-[#B3282D]
            after:w-0 after:content-[''] group-hover:after:w-full after:transition-all after:duration-300
            ${isActive("/about-us/") ? "text-[#B3282D] after:w-full font-semibold" : "text-gray-800"}`}
  >
    About Us
  </button>

  <!-- Menu -->
  <div
    data-menu
    class="absolute left-0 top-full mt-1 w-56 rounded-md border bg-white shadow-lg z-50 hidden pt-1"
  >
    <!-- Our Mission -->
    <a
      href="/about-us/"
      class="group block px-3 py-2 text-sm text-[#B3282D] hover:underline [#B3282D]"
      class="relative block px-3 py-2 text-sm text-gray-700 hover:text-[#B3282D]
             after:absolute after:bottom-0 after:left-0 after:h-[2px] after:bg-[#B3282D]
             after:w-0 after:content-[''] hover:after:w-full
             after:transition-all after:duration-300"
    >
      Our Mission
    </a>

    <!-- Our Values -->
    <a
      href="/about-us/our-values/"
      class="group block px-3 py-2 text-sm text-[#B3282D] hover:underline [#B3282D]"
      class="relative block px-3 py-2 text-sm text-gray-700 hover:text-[#B3282D]
             after:absolute after:bottom-0 after:left-0 after:h-[2px] after:bg-[#B3282D]
             after:w-0 after:content-[''] hover:after:w-full
             after:transition-all after:duration-300"
    >
      Our Values
    </a>

    <!-- Leadership -->
    <a
      href="/about-us/leadership/"
         class="group block px-3 py-2 text-sm text-[#B3282D] hover:underline [#B3282D]"
      class="relative block px-3 py-2 text-sm text-gray-700 hover:text-[#B3282D]
             after:absolute after:bottom-0 after:left-0 after:h-[2px] after:bg-[#B3282D]
             after:w-0 after:content-[''] hover:after:w-full
             after:transition-all after:duration-300"
    >
      Leadership
    </a>
  </div>
</div>
          <a
            href="/give/"
            class={`relative px-2 py-2 whitespace-nowrap
                    after:absolute after:left-0 after:-bottom-0.5 after:h-[2px] after:bg-[#B3282D]
                    after:w-0 after:content-[''] hover:after:w-full after:transition-all after:duration-300
                    ${isActive("/give/") ? "text-[#B3282D] after:w-full font-semibold" : "text-gray-800"}`}
          >Generosity</a>
          

          <!-- Ministries dropdown -->
          <div id="dd-ministries" class="relative group">
            <button
              type="button"
              class={`relative px-2 py-2 whitespace-nowrap
                      after:absolute after:left-0 after:-bottom-0.5 after:h-[2px] after:bg-[#B3282D]
                      after:w-0 after:content-[''] group-hover:after:w-full after:transition-all after:duration-300
                      ${isActive("/ministries/") ? "text-[#B3282D] after:w-full font-semibold" : "text-gray-800"}`}
            >
              Ministries
            </button>
            <div
              data-menu
              class="absolute left-0 top-full mt-1 w-64 rounded-md border bg-white shadow-lg z-50 hidden pt-1"
            >

              <a href="/ministries/Kids @The Life Place/" 
              class="group block px-3 py-2 text-sm text-[#B3282D] hover:underline [#B3282D]"
              class="relative block px-3 py-2 text-sm text-gray-700 hover:text-[#B3282D]
                  after:absolute after:bottom-1 after:left-3 after:h-[2px] after:bg-[#B3282D]
                  after:w-0 after:content-[''] hover:after:w-[calc(100%-1.5rem)] after:transition-all after:duration-300">
                Kids @The Life Place
              </a>

              <a href="/ministries/premarital-counseling/" 
              class="group block px-3 py-2 text-sm text-[#B3282D] hover:underline [#B3282D]"
              class="relative block px-3 py-2 text-sm text-gray-700 hover:text-[#B3282D]
                  after:absolute after:bottom-1 after:left-3 after:h-[2px] after:bg-[#B3282D]
                  after:w-0 after:content-[''] hover:after:w-[calc(100%-1.5rem)] after:transition-all after:duration-300">
                Premarital Counseling

              </a>
              <a href="/ministries/institute/" 
              class="group block px-3 py-2 text-sm text-[#B3282D] hover:underline [#B3282D]"
              class="relative block px-3 py-2 text-sm text-gray-700 hover:text-[#B3282D]
                  after:absolute after:bottom-1 after:left-3 after:h-[2px] after:bg-[#B3282D]
                  after:w-0 after:content-[''] hover:after:w-[calc(100%-1.5rem)] after:transition-all after:duration-300">
                The Life Place Institute
                
              </a>
              <a href="/ministries/child-dedication/" 
              class="group block px-3 py-2 text-sm text-[#B3282D] hover:underline [#B3282D]"
              class="relative block px-3 py-2 text-sm text-gray-700 hover:text-[#B3282D]
                  after:absolute after:bottom-1 after:left-3 after:h-[2px] after:bg-[#B3282D]
                  after:w-0 after:content-[''] hover:after:w-[calc(100%-1.5rem)] after:transition-all after:duration-300">
                Child Dedication Cohort
              </a>
              <a href="/ministries/faith-and-work/"
              class="group block px-3 py-2 text-sm text-[#B3282D] hover:underline [#B3282D]"
              class="relative block px-3 py-2 text-sm text-gray-700 hover:text-[#B3282D]
                  after:absolute after:bottom-1 after:left-3 after:h-[2px] after:bg-[#B3282D]
                  after:w-0 after:content-[''] hover:after:w-[calc(100%-1.5rem)] after:transition-all after:duration-300">
                Faith & Work
              </a>
              <a href="/ministries/new-members/" 
              class="group block px-3 py-2 text-sm text-[#B3282D] hover:underline [#B3282D]"
              class="relative block px-3 py-2 text-sm text-gray-700 hover:text-[#B3282D]
                  after:absolute after:bottom-1 after:left-3 after:h-[2px] after:bg-[#B3282D]
                  after:w-0 after:content-[''] hover:after:w-[calc(100%-1.5rem)] after:transition-all after:duration-300">
                New Members Cohort
              </a>
            </div>
          </div>

          <a
            href="/visit/"
            class={`relative px-2 py-2 whitespace-nowrap
                    after:absolute after:left-0 after:-bottom-0.5 after:h-[2px] after:bg-[#B3282D]
                    after:w-0 after:content-[''] hover:after:w-full after:transition-all after:duration-300
                    ${isActive("/visit/") ? "text-[#B3282D] after:w-full font-semibold" : "text-gray-800"}`}
          >Visit</a>
        </nav>

        <!-- Mobile menu -->
        <details class="md:hidden ml-auto">
          <summary class="cursor-pointer select-none rounded px-3 py-2 border">Menu</summary>
          <div class="absolute right-4 mt-2 w-56 rounded border bg-white shadow p-2 space-y-1">
            <a class="block px-3 py-2 rounded hover:bg-gray-50" href="/about-us/">About Us</a>
            <a class="block px-3 py-2 rounded hover:bg-gray-50" href="/what-to-expect/">What to Expect</a>
            <a class="block px-3 py-2 rounded hover:bg-gray-50" href="/visit/">Visit</a>
            <a class="block px-3 py-2 rounded hover:bg-gray-50" href="/give/">Generosity</a>
            <a class="block px-3 py-2 rounded hover:bg-gray-50" href="/our-values/">Our Values</a>
            <a class="block px-3 py-2 rounded hover:bg-gray-50" href="/ministries/">Ministries</a>
          </div>
        </details>
      </div>
    </header>

    <!-- Page content -->
    <main class="max-w-6xl mx-auto px-4 py-8 flex-1">
      <slot />
    </main>

    <!-- Footer -->
<footer class="bg-gray-100">
  <div class="max-w-6xl mx-auto px-4 py-6 text-sm text-center text-sm">
    
    <!-- Footer -->
<footer class="bg-gray-100">
  <div class="max-w-6xl mx-auto px-4 py-10 text-center text-sm">
    
    <!-- Social links -->
    <div class="flex justify-center space-x-4">
      <a href="https://facebook.com/thelifeplacesa" target="_blank" rel="noopener" 
         class="w-12 h-12 rounded-full bg-blue-600 text-white flex items-center justify-center">
        <i class="fab fa-facebook-f text-2xl"></i>
      </a>
      <a href="https://instagram.com/thelifeplacesa" target="_blank" rel="noopener" 
         class="w-12 h-12 rounded-full bg-pink-500 text-white flex items-center justify-center">
        <i class="fab fa-instagram text-2xl"></i>
      </a>
      <a href="https://youtube.com/@thelifeplacesa" target="_blank" rel="noopener" 
         class="w-12 h-12 rounded-full bg-red-600 text-white flex items-center justify-center">
        <i class="fab fa-youtube text-2xl"></i>
      </a>
    </div>

  
</footer>
    <!-- Footer Links -->
    <div class="mt-8 text center text-sm text-gray-500 space-x-4">
      <a href="/privacy-policy/" class="underline hover:underline">Privacy Policy</a>
      <a href="/cookies/" class="underline hover:underline">Cookies</a>
      <a href="/terms/" class="underline hover:underline">Terms</a>
      <span>© {new Date().getFullYear()} The Life Place. All Rights Reserved</span>
    </div>
  </div>
</footer>

 

    <!-- Cookie banner -->
    <CookieConsent />

    <!-- Keep dropdowns open briefly so they don't vanish while moving the mouse -->
    <script is:inline>
      function wireStickyDropdown(rootId) {
        const root = document.getElementById(rootId);
        if (!root) return;
        const menu = root.querySelector("[data-menu]");
        if (!menu) return;
        let hideTimer;
        const show = () => { clearTimeout(hideTimer); menu.classList.remove("hidden"); };
        const hide = () => { hideTimer = setTimeout(() => menu.classList.add("hidden"), 220); };
        root.addEventListener("mouseenter", show);
        root.addEventListener("mouseleave", hide);
        root.addEventListener("focusin", show);
        root.addEventListener("focusout", hide);
      }
      wireStickyDropdown("dd-about");
      wireStickyDropdown("dd-ministries");
    </script>
  </body>
</html>